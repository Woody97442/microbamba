import{R as I,r as At,j as _,H as kt,F as St}from"./index-RnAXxWfm.js";var fe=e=>e.type==="checkbox",ae=e=>e instanceof Date,j=e=>e==null;const rt=e=>typeof e=="object";var D=e=>!j(e)&&!Array.isArray(e)&&rt(e)&&!ae(e),Dt=e=>D(e)&&e.target?fe(e.target)?e.target.checked:e.target.value:e,Et=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Nt=(e,r)=>e.has(Et(r)),Lt=e=>{const r=e.constructor&&e.constructor.prototype;return D(r)&&r.hasOwnProperty("isPrototypeOf")},Te=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function B(e){let r;const t=Array.isArray(e);if(e instanceof Date)r=new Date(e);else if(e instanceof Set)r=new Set(e);else if(!(Te&&(e instanceof Blob||e instanceof FileList))&&(t||D(e)))if(r=t?[]:{},!t&&!Lt(e))r=e;else for(const a in e)e.hasOwnProperty(a)&&(r[a]=B(e[a]));else return e;return r}var de=e=>Array.isArray(e)?e.filter(Boolean):[],p=e=>e===void 0,d=(e,r,t)=>{if(!r||!D(e))return t;const a=de(r.split(/[,[\].]+?/)).reduce((o,l)=>j(o)?o:o[l],e);return p(a)||a===e?p(e[r])?t:e[r]:a},Q=e=>typeof e=="boolean";const Je={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},H={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},J={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};I.createContext(null);var Tt=(e,r,t,a=!0)=>{const o={defaultValues:r._defaultValues};for(const l in e)Object.defineProperty(o,l,{get:()=>{const y=l;return r._proxyFormState[y]!==H.all&&(r._proxyFormState[y]=!a||H.all),e[y]}});return o},C=e=>D(e)&&!Object.keys(e).length,jt=(e,r,t,a)=>{t(e);const{name:o,...l}=e;return C(l)||Object.keys(l).length>=Object.keys(r).length||Object.keys(l).find(y=>r[y]===H.all)},De=e=>Array.isArray(e)?e:[e];function Rt(e){const r=I.useRef(e);r.current=e,I.useEffect(()=>{const t=!e.disabled&&r.current.subject&&r.current.subject.subscribe({next:r.current.next});return()=>{t&&t.unsubscribe()}},[e.disabled])}var K=e=>typeof e=="string",Pt=(e,r,t,a,o)=>K(e)?(a&&r.watch.add(e),d(t,e,o)):Array.isArray(e)?e.map(l=>(a&&r.watch.add(l),d(t,l))):(a&&(r.watchAll=!0),t),je=e=>/^\w*$/.test(e),st=e=>de(e.replace(/["|']|\]/g,"").split(/\.|\[/)),V=(e,r,t)=>{let a=-1;const o=je(r)?[r]:st(r),l=o.length,y=l-1;for(;++a<l;){const g=o[a];let T=t;if(a!==y){const R=e[g];T=D(R)||Array.isArray(R)?R:isNaN(+o[a+1])?{}:[]}e[g]=T,e=e[g]}return e},Ot=(e,r,t,a,o)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[a]:o||!0}}:{},Qe=e=>({isOnSubmit:!e||e===H.onSubmit,isOnBlur:e===H.onBlur,isOnChange:e===H.onChange,isOnAll:e===H.all,isOnTouch:e===H.onTouched}),Ze=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(a=>e.startsWith(a)&&/^\.\w+/.test(e.slice(a.length))));const ce=(e,r,t,a)=>{for(const o of t||Object.keys(e)){const l=d(e,o);if(l){const{_f:y,...g}=l;if(y){if(y.refs&&y.refs[0]&&r(y.refs[0],o)&&!a)break;if(y.ref&&r(y.ref,y.name)&&!a)break;ce(g,r)}else D(g)&&ce(g,r)}}};var Ct=(e,r,t)=>{const a=de(d(e,t));return V(a,"root",r[t]),V(e,t,a),e},Re=e=>e.type==="file",X=e=>typeof e=="function",xe=e=>{if(!Te)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},ve=e=>K(e),Pe=e=>e.type==="radio",we=e=>e instanceof RegExp;const ze={value:!1,isValid:!1},Ge={value:!0,isValid:!0};var it=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!p(e[0].attributes.value)?p(e[0].value)||e[0].value===""?Ge:{value:e[0].value,isValid:!0}:Ge:ze}return ze};const Xe={isValid:!1,value:null};var at=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,Xe):Xe;function Ye(e,r,t="validate"){if(ve(e)||Array.isArray(e)&&e.every(ve)||Q(e)&&!e)return{type:t,message:ve(e)?e:"",ref:r}}var ie=e=>D(e)&&!we(e)?e:{value:e,message:""},et=async(e,r,t,a,o)=>{const{ref:l,refs:y,required:g,maxLength:T,minLength:R,min:F,max:m,pattern:he,validate:Z,name:P,valueAsNumber:Fe,mount:z,disabled:G}=e._f,v=d(r,P);if(!z||G)return{};const W=y?y[0]:l,$=b=>{a&&W.reportValidity&&(W.setCustomValidity(Q(b)?"":b||""),W.reportValidity())},A={},te=Pe(l),ge=fe(l),Y=te||ge,re=(Fe||Re(l))&&p(l.value)&&p(v)||xe(l)&&l.value===""||v===""||Array.isArray(v)&&!v.length,U=Ot.bind(null,P,t,A),me=(b,x,k,L=J.maxLength,q=J.minLength)=>{const M=b?x:k;A[P]={type:b?L:q,message:M,ref:l,...U(b?L:q,M)}};if(o?!Array.isArray(v)||!v.length:g&&(!Y&&(re||j(v))||Q(v)&&!v||ge&&!it(y).isValid||te&&!at(y).isValid)){const{value:b,message:x}=ve(g)?{value:!!g,message:g}:ie(g);if(b&&(A[P]={type:J.required,message:x,ref:W,...U(J.required,x)},!t))return $(x),A}if(!re&&(!j(F)||!j(m))){let b,x;const k=ie(m),L=ie(F);if(!j(v)&&!isNaN(v)){const q=l.valueAsNumber||v&&+v;j(k.value)||(b=q>k.value),j(L.value)||(x=q<L.value)}else{const q=l.valueAsDate||new Date(v),M=oe=>new Date(new Date().toDateString()+" "+oe),le=l.type=="time",ne=l.type=="week";K(k.value)&&v&&(b=le?M(v)>M(k.value):ne?v>k.value:q>new Date(k.value)),K(L.value)&&v&&(x=le?M(v)<M(L.value):ne?v<L.value:q<new Date(L.value))}if((b||x)&&(me(!!b,k.message,L.message,J.max,J.min),!t))return $(A[P].message),A}if((T||R)&&!re&&(K(v)||o&&Array.isArray(v))){const b=ie(T),x=ie(R),k=!j(b.value)&&v.length>+b.value,L=!j(x.value)&&v.length<+x.value;if((k||L)&&(me(k,b.message,x.message),!t))return $(A[P].message),A}if(he&&!re&&K(v)){const{value:b,message:x}=ie(he);if(we(b)&&!v.match(b)&&(A[P]={type:J.pattern,message:x,ref:l,...U(J.pattern,x)},!t))return $(x),A}if(Z){if(X(Z)){const b=await Z(v,r),x=Ye(b,W);if(x&&(A[P]={...x,...U(J.validate,x.message)},!t))return $(x.message),A}else if(D(Z)){let b={};for(const x in Z){if(!C(b)&&!t)break;const k=Ye(await Z[x](v,r),W,x);k&&(b={...k,...U(x,k.message)},$(k.message),t&&(A[P]=b))}if(!C(b)&&(A[P]={ref:W,...b},!t))return A}}return $(!0),A};function Ut(e,r){const t=r.slice(0,-1).length;let a=0;for(;a<t;)e=p(e)?a++:e[r[a++]];return e}function Mt(e){for(const r in e)if(e.hasOwnProperty(r)&&!p(e[r]))return!1;return!0}function S(e,r){const t=Array.isArray(r)?r:je(r)?[r]:st(r),a=t.length===1?e:Ut(e,t),o=t.length-1,l=t[o];return a&&delete a[l],o!==0&&(D(a)&&C(a)||Array.isArray(a)&&Mt(a))&&S(e,t.slice(0,-1)),e}var Ee=()=>{let e=[];return{get observers(){return e},next:o=>{for(const l of e)l.next&&l.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(l=>l!==o)}}),unsubscribe:()=>{e=[]}}},_e=e=>j(e)||!rt(e);function ee(e,r){if(_e(e)||_e(r))return e===r;if(ae(e)&&ae(r))return e.getTime()===r.getTime();const t=Object.keys(e),a=Object.keys(r);if(t.length!==a.length)return!1;for(const o of t){const l=e[o];if(!a.includes(o))return!1;if(o!=="ref"){const y=r[o];if(ae(l)&&ae(y)||D(l)&&D(y)||Array.isArray(l)&&Array.isArray(y)?!ee(l,y):l!==y)return!1}}return!0}var lt=e=>e.type==="select-multiple",Bt=e=>Pe(e)||fe(e),Ne=e=>xe(e)&&e.isConnected,nt=e=>{for(const r in e)if(X(e[r]))return!0;return!1};function Ve(e,r={}){const t=Array.isArray(e);if(D(e)||t)for(const a in e)Array.isArray(e[a])||D(e[a])&&!nt(e[a])?(r[a]=Array.isArray(e[a])?[]:{},Ve(e[a],r[a])):j(e[a])||(r[a]=!0);return r}function ot(e,r,t){const a=Array.isArray(e);if(D(e)||a)for(const o in e)Array.isArray(e[o])||D(e[o])&&!nt(e[o])?p(r)||_e(t[o])?t[o]=Array.isArray(e[o])?Ve(e[o],[]):{...Ve(e[o])}:ot(e[o],j(r)?{}:r[o],t[o]):t[o]=!ee(e[o],r[o]);return t}var be=(e,r)=>ot(e,r,Ve(r)),ut=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:a})=>p(e)?e:r?e===""?NaN:e&&+e:t&&K(e)?new Date(e):a?a(e):e;function Le(e){const r=e.ref;if(!(e.refs?e.refs.every(t=>t.disabled):r.disabled))return Re(r)?r.files:Pe(r)?at(e.refs).value:lt(r)?[...r.selectedOptions].map(({value:t})=>t):fe(r)?it(e.refs).value:ut(p(r.value)?e.ref.value:r.value,e)}var It=(e,r,t,a)=>{const o={};for(const l of e){const y=d(r,l);y&&V(o,l,y._f)}return{criteriaMode:t,names:[...e],fields:o,shouldUseNativeValidation:a}},ue=e=>p(e)?e:we(e)?e.source:D(e)?we(e.value)?e.value.source:e.value:e,qt=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function tt(e,r,t){const a=d(e,t);if(a||je(t))return{error:a,name:t};const o=t.split(".");for(;o.length;){const l=o.join("."),y=d(r,l),g=d(e,l);if(y&&!Array.isArray(y)&&t!==l)return{name:t};if(g&&g.type)return{name:l,error:g};o.pop()}return{name:t}}var Ht=(e,r,t,a,o)=>o.isOnAll?!1:!t&&o.isOnTouch?!(r||e):(t?a.isOnBlur:o.isOnBlur)?!e:(t?a.isOnChange:o.isOnChange)?e:!0,Kt=(e,r)=>!de(d(e,r)).length&&S(e,r);const Wt={mode:H.onSubmit,reValidateMode:H.onChange,shouldFocusError:!0};function $t(e={}){let r={...Wt,...e},t={submitCount:0,isDirty:!1,isLoading:X(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},a={},o=D(r.defaultValues)||D(r.values)?B(r.defaultValues||r.values)||{}:{},l=r.shouldUnregister?{}:B(o),y={action:!1,mount:!1,watch:!1},g={mount:new Set,unMount:new Set,array:new Set,watch:new Set},T,R=0;const F={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},m={values:Ee(),array:Ee(),state:Ee()},he=Qe(r.mode),Z=Qe(r.reValidateMode),P=r.criteriaMode===H.all,Fe=s=>i=>{clearTimeout(R),R=setTimeout(s,i)},z=async s=>{if(F.isValid||s){const i=r.resolver?C((await Y()).errors):await U(a,!0);i!==t.isValid&&m.state.next({isValid:i})}},G=(s,i)=>{(F.isValidating||F.validatingFields)&&((s||Array.from(g.mount)).forEach(n=>{n&&(i?V(t.validatingFields,n,i):S(t.validatingFields,n))}),m.state.next({validatingFields:t.validatingFields,isValidating:!C(t.validatingFields)}))},v=(s,i=[],n,f,c=!0,u=!0)=>{if(f&&n){if(y.action=!0,u&&Array.isArray(d(a,s))){const h=n(d(a,s),f.argA,f.argB);c&&V(a,s,h)}if(u&&Array.isArray(d(t.errors,s))){const h=n(d(t.errors,s),f.argA,f.argB);c&&V(t.errors,s,h),Kt(t.errors,s)}if(F.touchedFields&&u&&Array.isArray(d(t.touchedFields,s))){const h=n(d(t.touchedFields,s),f.argA,f.argB);c&&V(t.touchedFields,s,h)}F.dirtyFields&&(t.dirtyFields=be(o,l)),m.state.next({name:s,isDirty:b(s,i),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else V(l,s,i)},W=(s,i)=>{V(t.errors,s,i),m.state.next({errors:t.errors})},$=s=>{t.errors=s,m.state.next({errors:t.errors,isValid:!1})},A=(s,i,n,f)=>{const c=d(a,s);if(c){const u=d(l,s,p(n)?d(o,s):n);p(u)||f&&f.defaultChecked||i?V(l,s,i?u:Le(c._f)):L(s,u),y.mount&&z()}},te=(s,i,n,f,c)=>{let u=!1,h=!1;const w={name:s},E=!!(d(a,s)&&d(a,s)._f.disabled);if(!n||f){F.isDirty&&(h=t.isDirty,t.isDirty=w.isDirty=b(),u=h!==w.isDirty);const O=E||ee(d(o,s),i);h=!!(!E&&d(t.dirtyFields,s)),O||E?S(t.dirtyFields,s):V(t.dirtyFields,s,!0),w.dirtyFields=t.dirtyFields,u=u||F.dirtyFields&&h!==!O}if(n){const O=d(t.touchedFields,s);O||(V(t.touchedFields,s,n),w.touchedFields=t.touchedFields,u=u||F.touchedFields&&O!==n)}return u&&c&&m.state.next(w),u?w:{}},ge=(s,i,n,f)=>{const c=d(t.errors,s),u=F.isValid&&Q(i)&&t.isValid!==i;if(e.delayError&&n?(T=Fe(()=>W(s,n)),T(e.delayError)):(clearTimeout(R),T=null,n?V(t.errors,s,n):S(t.errors,s)),(n?!ee(c,n):c)||!C(f)||u){const h={...f,...u&&Q(i)?{isValid:i}:{},errors:t.errors,name:s};t={...t,...h},m.state.next(h)}},Y=async s=>{G(s,!0);const i=await r.resolver(l,r.context,It(s||g.mount,a,r.criteriaMode,r.shouldUseNativeValidation));return G(s),i},re=async s=>{const{errors:i}=await Y(s);if(s)for(const n of s){const f=d(i,n);f?V(t.errors,n,f):S(t.errors,n)}else t.errors=i;return i},U=async(s,i,n={valid:!0})=>{for(const f in s){const c=s[f];if(c){const{_f:u,...h}=c;if(u){const w=g.array.has(u.name);G([f],!0);const E=await et(c,l,P,r.shouldUseNativeValidation&&!i,w);if(G([f]),E[u.name]&&(n.valid=!1,i))break;!i&&(d(E,u.name)?w?Ct(t.errors,E,u.name):V(t.errors,u.name,E[u.name]):S(t.errors,u.name))}h&&await U(h,i,n)}}return n.valid},me=()=>{for(const s of g.unMount){const i=d(a,s);i&&(i._f.refs?i._f.refs.every(n=>!Ne(n)):!Ne(i._f.ref))&&pe(s)}g.unMount=new Set},b=(s,i)=>(s&&i&&V(l,s,i),!ee(Ce(),o)),x=(s,i,n)=>Pt(s,g,{...y.mount?l:p(i)?o:K(s)?{[s]:i}:i},n,i),k=s=>de(d(y.mount?l:o,s,e.shouldUnregister?d(o,s,[]):[])),L=(s,i,n={})=>{const f=d(a,s);let c=i;if(f){const u=f._f;u&&(!u.disabled&&V(l,s,ut(i,u)),c=xe(u.ref)&&j(i)?"":i,lt(u.ref)?[...u.ref.options].forEach(h=>h.selected=c.includes(h.value)):u.refs?fe(u.ref)?u.refs.length>1?u.refs.forEach(h=>(!h.defaultChecked||!h.disabled)&&(h.checked=Array.isArray(c)?!!c.find(w=>w===h.value):c===h.value)):u.refs[0]&&(u.refs[0].checked=!!c):u.refs.forEach(h=>h.checked=h.value===c):Re(u.ref)?u.ref.value="":(u.ref.value=c,u.ref.type||m.values.next({name:s,values:{...l}})))}(n.shouldDirty||n.shouldTouch)&&te(s,c,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&oe(s)},q=(s,i,n)=>{for(const f in i){const c=i[f],u=`${s}.${f}`,h=d(a,u);(g.array.has(s)||!_e(c)||h&&!h._f)&&!ae(c)?q(u,c,n):L(u,c,n)}},M=(s,i,n={})=>{const f=d(a,s),c=g.array.has(s),u=B(i);V(l,s,u),c?(m.array.next({name:s,values:{...l}}),(F.isDirty||F.dirtyFields)&&n.shouldDirty&&m.state.next({name:s,dirtyFields:be(o,l),isDirty:b(s,u)})):f&&!f._f&&!j(u)?q(s,u,n):L(s,u,n),Ze(s,g)&&m.state.next({...t}),m.values.next({name:y.mount?s:void 0,values:{...l}})},le=async s=>{y.mount=!0;const i=s.target;let n=i.name,f=!0;const c=d(a,n),u=()=>i.type?Le(c._f):Dt(s),h=w=>{f=Number.isNaN(w)||w===d(l,n,w)};if(c){let w,E;const O=u(),se=s.type===Je.BLUR||s.type===Je.FOCUS_OUT,Vt=!qt(c._f)&&!r.resolver&&!d(t.errors,n)&&!c._f.deps||Ht(se,d(t.touchedFields,n),t.isSubmitted,Z,he),ke=Ze(n,g,se);V(l,n,O),se?(c._f.onBlur&&c._f.onBlur(s),T&&T(0)):c._f.onChange&&c._f.onChange(s);const Se=te(n,O,se,!1),Ft=!C(Se)||ke;if(!se&&m.values.next({name:n,type:s.type,values:{...l}}),Vt)return F.isValid&&z(),Ft&&m.state.next({name:n,...ke?{}:Se});if(!se&&ke&&m.state.next({...t}),r.resolver){const{errors:We}=await Y([n]);if(h(O),f){const pt=tt(t.errors,a,n),$e=tt(We,a,pt.name||n);w=$e.error,n=$e.name,E=C(We)}}else G([n],!0),w=(await et(c,l,P,r.shouldUseNativeValidation))[n],G([n]),h(O),f&&(w?E=!1:F.isValid&&(E=await U(a,!0)));f&&(c._f.deps&&oe(c._f.deps),ge(n,E,w,Se))}},ne=(s,i)=>{if(d(t.errors,i)&&s.focus)return s.focus(),1},oe=async(s,i={})=>{let n,f;const c=De(s);if(r.resolver){const u=await re(p(s)?s:c);n=C(u),f=s?!c.some(h=>d(u,h)):n}else s?(f=(await Promise.all(c.map(async u=>{const h=d(a,u);return await U(h&&h._f?{[u]:h}:h)}))).every(Boolean),!(!f&&!t.isValid)&&z()):f=n=await U(a);return m.state.next({...!K(s)||F.isValid&&n!==t.isValid?{}:{name:s},...r.resolver||!s?{isValid:n}:{},errors:t.errors}),i.shouldFocus&&!f&&ce(a,ne,s?c:g.mount),f},Ce=s=>{const i={...y.mount?l:o};return p(s)?i:K(s)?d(i,s):s.map(n=>d(i,n))},Ue=(s,i)=>({invalid:!!d((i||t).errors,s),isDirty:!!d((i||t).dirtyFields,s),isTouched:!!d((i||t).touchedFields,s),isValidating:!!d((i||t).validatingFields,s),error:d((i||t).errors,s)}),vt=s=>{s&&De(s).forEach(i=>S(t.errors,i)),m.state.next({errors:s?t.errors:{}})},Me=(s,i,n)=>{const f=(d(a,s,{_f:{}})._f||{}).ref;V(t.errors,s,{...i,ref:f}),m.state.next({name:s,errors:t.errors,isValid:!1}),n&&n.shouldFocus&&f&&f.focus&&f.focus()},xt=(s,i)=>X(s)?m.values.subscribe({next:n=>s(x(void 0,i),n)}):x(s,i,!0),pe=(s,i={})=>{for(const n of s?De(s):g.mount)g.mount.delete(n),g.array.delete(n),i.keepValue||(S(a,n),S(l,n)),!i.keepError&&S(t.errors,n),!i.keepDirty&&S(t.dirtyFields,n),!i.keepTouched&&S(t.touchedFields,n),!i.keepIsValidating&&S(t.validatingFields,n),!r.shouldUnregister&&!i.keepDefaultValue&&S(o,n);m.values.next({values:{...l}}),m.state.next({...t,...i.keepDirty?{isDirty:b()}:{}}),!i.keepIsValid&&z()},Be=({disabled:s,name:i,field:n,fields:f,value:c})=>{if(Q(s)){const u=s?void 0:p(c)?Le(n?n._f:d(f,i)._f):c;V(l,i,u),te(i,u,!1,!1,!0)}},Ae=(s,i={})=>{let n=d(a,s);const f=Q(i.disabled);return V(a,s,{...n||{},_f:{...n&&n._f?n._f:{ref:{name:s}},name:s,mount:!0,...i}}),g.mount.add(s),n?Be({field:n,disabled:i.disabled,name:s,value:i.value}):A(s,!0,i.value),{...f?{disabled:i.disabled}:{},...r.progressive?{required:!!i.required,min:ue(i.min),max:ue(i.max),minLength:ue(i.minLength),maxLength:ue(i.maxLength),pattern:ue(i.pattern)}:{},name:s,onChange:le,onBlur:le,ref:c=>{if(c){Ae(s,i),n=d(a,s);const u=p(c.value)&&c.querySelectorAll&&c.querySelectorAll("input,select,textarea")[0]||c,h=Bt(u),w=n._f.refs||[];if(h?w.find(E=>E===u):u===n._f.ref)return;V(a,s,{_f:{...n._f,...h?{refs:[...w.filter(Ne),u,...Array.isArray(d(o,s))?[{}]:[]],ref:{type:u.type,name:s}}:{ref:u}}}),A(s,!1,void 0,u)}else n=d(a,s,{}),n._f&&(n._f.mount=!1),(r.shouldUnregister||i.shouldUnregister)&&!(Nt(g.array,s)&&y.action)&&g.unMount.add(s)}}},Ie=()=>r.shouldFocusError&&ce(a,ne,g.mount),wt=s=>{Q(s)&&(m.state.next({disabled:s}),ce(a,(i,n)=>{let f=s;const c=d(a,n);c&&Q(c._f.disabled)&&(f||(f=c._f.disabled)),i.disabled=f},0,!1))},qe=(s,i)=>async n=>{let f;n&&(n.preventDefault&&n.preventDefault(),n.persist&&n.persist());let c=B(l);if(m.state.next({isSubmitting:!0}),r.resolver){const{errors:u,values:h}=await Y();t.errors=u,c=h}else await U(a);if(S(t.errors,"root"),C(t.errors)){m.state.next({errors:{}});try{await s(c,n)}catch(u){f=u}}else i&&await i({...t.errors},n),Ie(),setTimeout(Ie);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:C(t.errors)&&!f,submitCount:t.submitCount+1,errors:t.errors}),f)throw f},_t=(s,i={})=>{d(a,s)&&(p(i.defaultValue)?M(s,B(d(o,s))):(M(s,i.defaultValue),V(o,s,B(i.defaultValue))),i.keepTouched||S(t.touchedFields,s),i.keepDirty||(S(t.dirtyFields,s),t.isDirty=i.defaultValue?b(s,B(d(o,s))):b()),i.keepError||(S(t.errors,s),F.isValid&&z()),m.state.next({...t}))},He=(s,i={})=>{const n=s?B(s):o,f=B(n),c=C(s),u=c?o:f;if(i.keepDefaultValues||(o=n),!i.keepValues){if(i.keepDirtyValues)for(const h of g.mount)d(t.dirtyFields,h)?V(u,h,d(l,h)):M(h,d(u,h));else{if(Te&&p(s))for(const h of g.mount){const w=d(a,h);if(w&&w._f){const E=Array.isArray(w._f.refs)?w._f.refs[0]:w._f.ref;if(xe(E)){const O=E.closest("form");if(O){O.reset();break}}}}a={}}l=e.shouldUnregister?i.keepDefaultValues?B(o):{}:B(u),m.array.next({values:{...u}}),m.values.next({values:{...u}})}g={mount:i.keepDirtyValues?g.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},y.mount=!F.isValid||!!i.keepIsValid||!!i.keepDirtyValues,y.watch=!!e.shouldUnregister,m.state.next({submitCount:i.keepSubmitCount?t.submitCount:0,isDirty:c?!1:i.keepDirty?t.isDirty:!!(i.keepDefaultValues&&!ee(s,o)),isSubmitted:i.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:c?[]:i.keepDirtyValues?i.keepDefaultValues&&l?be(o,l):t.dirtyFields:i.keepDefaultValues&&s?be(o,s):{},touchedFields:i.keepTouched?t.touchedFields:{},errors:i.keepErrors?t.errors:{},isSubmitSuccessful:i.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},Ke=(s,i)=>He(X(s)?s(l):s,i);return{control:{register:Ae,unregister:pe,getFieldState:Ue,handleSubmit:qe,setError:Me,_executeSchema:Y,_getWatch:x,_getDirty:b,_updateValid:z,_removeUnmounted:me,_updateFieldArray:v,_updateDisabledField:Be,_getFieldArray:k,_reset:He,_resetDefaultValues:()=>X(r.defaultValues)&&r.defaultValues().then(s=>{Ke(s,r.resetOptions),m.state.next({isLoading:!1})}),_updateFormState:s=>{t={...t,...s}},_disableForm:wt,_subjects:m,_proxyFormState:F,_setErrors:$,get _fields(){return a},get _formValues(){return l},get _state(){return y},set _state(s){y=s},get _defaultValues(){return o},get _names(){return g},set _names(s){g=s},get _formState(){return t},set _formState(s){t=s},get _options(){return r},set _options(s){r={...r,...s}}},trigger:oe,register:Ae,handleSubmit:qe,watch:xt,setValue:M,getValues:Ce,reset:Ke,resetField:_t,clearErrors:vt,unregister:pe,setError:Me,setFocus:(s,i={})=>{const n=d(a,s),f=n&&n._f;if(f){const c=f.refs?f.refs[0]:f.ref;c.focus&&(c.focus(),i.shouldSelect&&c.select())}},getFieldState:Ue}}function Jt(e={}){const r=I.useRef(),t=I.useRef(),[a,o]=I.useState({isDirty:!1,isValidating:!1,isLoading:X(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:X(e.defaultValues)?void 0:e.defaultValues});r.current||(r.current={...$t(e),formState:a});const l=r.current.control;return l._options=e,Rt({subject:l._subjects.state,next:y=>{jt(y,l._proxyFormState,l._updateFormState)&&o({...l._formState})}}),I.useEffect(()=>l._disableForm(e.disabled),[l,e.disabled]),I.useEffect(()=>{if(l._proxyFormState.isDirty){const y=l._getDirty();y!==a.isDirty&&l._subjects.state.next({isDirty:y})}},[l,a.isDirty]),I.useEffect(()=>{e.values&&!ee(e.values,t.current)?(l._reset(e.values,l._options.resetOptions),t.current=e.values,o(y=>({...y}))):l._resetDefaultValues()},[e.values,l]),I.useEffect(()=>{e.errors&&l._setErrors(e.errors)},[e.errors,l]),I.useEffect(()=>{l._state.mount||(l._updateValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),I.useEffect(()=>{e.shouldUnregister&&l._subjects.values.next({values:l._getWatch()})},[e.shouldUnregister,l]),r.current.formState=Tt(a,l),r.current}class ye{constructor(r=0,t="Network Error"){this.status=r,this.text=t}}const Qt=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,r)=>Promise.resolve(localStorage.setItem(e,r)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},N={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:Qt()},Oe=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},Zt=(e,r="https://api.emailjs.com")=>{if(!e)return;const t=Oe(e);N.publicKey=t.publicKey,N.blockHeadless=t.blockHeadless,N.storageProvider=t.storageProvider,N.blockList=t.blockList,N.limitRate=t.limitRate,N.origin=t.origin||r},ct=async(e,r,t={})=>{const a=await fetch(N.origin+e,{method:"POST",headers:t,body:r}),o=await a.text(),l=new ye(a.status,o);if(a.ok)return l;throw l},ft=(e,r,t)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!r||typeof r!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t||typeof t!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},zt=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},dt=e=>e.webdriver||!e.languages||e.languages.length===0,yt=()=>new ye(451,"Unavailable For Headless Browser"),Gt=(e,r)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof r!="string")throw"The BlockList watchVariable has to be a string"},Xt=e=>{var r;return!((r=e.list)!=null&&r.length)||!e.watchVariable},Yt=(e,r)=>e instanceof FormData?e.get(r):e[r],ht=(e,r)=>{if(Xt(e))return!1;Gt(e.list,e.watchVariable);const t=Yt(r,e.watchVariable);return typeof t!="string"?!1:e.list.includes(t)},gt=()=>new ye(403,"Forbidden"),er=(e,r)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(r&&typeof r!="string")throw"The LimitRate ID has to be a string"},tr=async(e,r,t)=>{const a=Number(await t.get(e)||0);return r-Date.now()+a},mt=async(e,r,t)=>{if(!r.throttle||!t)return!1;er(r.throttle,r.id);const a=r.id||e;return await tr(a,r.throttle,t)>0?!0:(await t.set(a,Date.now().toString()),!1)},bt=()=>new ye(429,"Too Many Requests"),rr=async(e,r,t,a)=>{const o=Oe(a),l=o.publicKey||N.publicKey,y=o.blockHeadless||N.blockHeadless,g=N.storageProvider||o.storageProvider,T={...N.blockList,...o.blockList},R={...N.limitRate,...o.limitRate};return y&&dt(navigator)?Promise.reject(yt()):(ft(l,e,r),zt(t),t&&ht(T,t)?Promise.reject(gt()):await mt(location.pathname,R,g)?Promise.reject(bt()):ct("/api/v1.0/email/send",JSON.stringify({lib_version:"4.3.3",user_id:l,service_id:e,template_id:r,template_params:t}),{"Content-type":"application/json"}))},sr=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},ir=e=>typeof e=="string"?document.querySelector(e):e,ar=async(e,r,t,a)=>{const o=Oe(a),l=o.publicKey||N.publicKey,y=o.blockHeadless||N.blockHeadless,g=N.storageProvider||o.storageProvider,T={...N.blockList,...o.blockList},R={...N.limitRate,...o.limitRate};if(y&&dt(navigator))return Promise.reject(yt());const F=ir(t);ft(l,e,r),sr(F);const m=new FormData(F);return ht(T,m)?Promise.reject(gt()):await mt(location.pathname,R,g)?Promise.reject(bt()):(m.append("lib_version","4.3.3"),m.append("service_id",e),m.append("template_id",r),m.append("user_id",l),ct("/api/v1.0/email/send-form",m))},lr={init:Zt,send:rr,sendForm:ar,EmailJSResponseStatus:ye},fr=()=>{const{register:e,handleSubmit:r}=Jt(),[t,a]=At.useState(!1),o=l=>{a(!0);const y={from_name:l.email,name:l.name,firstname:l.firstname,message:l.message};lr.send("service_4m131ed","template_6sjnqfw",y,{publicKey:"pZV0QI4FINKtyyVSS"}).then(g=>{console.log("SUCCESS!",g.status,g.text),a(!1)},g=>{console.log("FAILED...",g),a(!1)})};return _.jsxs("div",{className:"flex flex-col justify-between min-h-screen",children:[_.jsx("div",{children:_.jsx(kt,{})}),_.jsxs("main",{className:"px-[10px] lg:px-[30px] xl:px-[200px] mb-5 flex flex-col gap-4 mt-10",children:[_.jsx("h1",{className:"text-3xl font-primary text-center text-[#191E8F]",children:"Formulaire de Contact"}),_.jsxs("form",{className:"flex flex-col gap-5 bg-white p-4",onSubmit:r(o),children:[_.jsxs("label",{className:"form-control w-full max-w-xs",children:[_.jsx("div",{className:"label",children:_.jsx("span",{className:"label-text",children:"Prénom"})}),_.jsx("input",{type:"text",placeholder:"....",className:"input input-bordered w-full max-w-xs",...e("firstname",{required:!0})})]}),_.jsxs("label",{className:"form-control w-full max-w-xs",children:[_.jsx("div",{className:"label",children:_.jsx("span",{className:"label-text",children:"Nom"})}),_.jsx("input",{type:"text",placeholder:"....",className:"input input-bordered w-full max-w-xs",...e("name",{required:!0})})]}),_.jsxs("label",{className:"form-control w-full max-w-xs",children:[_.jsx("div",{className:"label",children:_.jsx("span",{className:"label-text",children:"Email"})}),_.jsx("input",{type:"text",placeholder:"....",className:"input input-bordered w-full max-w-xs",...e("email",{required:!0})})]}),_.jsxs("label",{className:"form-control",children:[_.jsx("div",{className:"label",children:_.jsx("span",{className:"label-text",children:"Message"})}),_.jsx("textarea",{className:"textarea textarea-bordered h-24 max-w-md",placeholder:"....",...e("message",{required:!0})})]}),t?_.jsx("button",{className:"btn btn-secondary text-white max-w-xs ",type:"submit",disabled:!0,children:_.jsx("span",{className:"loading loading-infinity loading-lg"})}):_.jsx("button",{className:"btn btn-secondary text-white max-w-xs",type:"submit",children:"Envoyer"})]})]}),_.jsx(St,{})]})};export{fr as default};
