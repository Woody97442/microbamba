import{r as l,u as p,j as e,H as N,b,c as w,N as g,F as v,d as y,g as P}from"./index-ClwRO4TL.js";const F=()=>{const[n,i]=l.useState(1),[t,x]=l.useState(null),[d,m]=l.useState([]),{id:r}=p();if(l.useEffect(()=>{(async()=>{if(r)try{const a=await y(r);x(a);const c=await P(a.console);m(c)}catch(a){console.error("Error fetching product:",a)}})()},[r]),!t)return e.jsx("div",{children:"Loading..."});const h=()=>{i(s=>s+1)},f=()=>{n>1&&i(s=>s-1)},u=(s,a)=>{const c=JSON.parse(localStorage.getItem("cart")||"[]"),o=c.findIndex(j=>j.productId===s);o!==-1?c[o].quantity+=a:c.push({productId:s,quantity:a}),localStorage.setItem("cart",JSON.stringify(c))};return e.jsxs("div",{className:"flex flex-col justify-between min-h-screen",children:[e.jsx("div",{children:e.jsx(N,{})}),e.jsxs("main",{className:"px-[10px] lg:px-[30px] xl:px-[200px] mb-5 flex flex-col gap-4 mt-10",children:[e.jsxs("div",{className:"flex flex-row gap-5",children:[e.jsx("section",{className:"bg-white p-4",children:e.jsx("img",{src:t.imageUrl,alt:t.imageAlt,className:"w-[350px] h-[370px] object-cover"})}),e.jsxs("section",{className:"flex flex-col gap-5 bg-white p-4 w-full justify-between",children:[e.jsxs("div",{className:"flex flex-col gap-4  w-full",children:[e.jsxs("div",{className:"flex flex-row  justify-between",children:[e.jsx("h1",{className:"text-3xl font-primary",children:t.title}),e.jsxs("p",{className:"text-lg font-bold",children:["Console :"," ",e.jsx("span",{className:"font-normal",children:t.console})]})]}),e.jsxs("div",{className:"flex flex-row justify-between items-center",children:[e.jsxs("p",{className:"text-lg font-bold",children:["Prix : ",t.price,"€"]}),e.jsxs("div",{className:"flex flex-row gap-2  w-fit my-5",children:[e.jsx("button",{className:"btn btn-secondary text-white btn-xs",onClick:f,children:e.jsx(b,{className:"w-5 h-5"})}),e.jsx("span",{className:"text-xl font-bold w-5 h-5 items-center text-center",children:n}),e.jsx("button",{className:"btn btn-secondary text-white btn-xs ",onClick:h,children:e.jsx(w,{className:"w-5 h-5"})})]})]}),e.jsx("h2",{className:"text-lg font-bold",children:"Description"}),e.jsx("p",{children:t.description})]}),e.jsx("div",{children:e.jsx("button",{className:"btn btn-secondary text-white w-1/2",onClick:()=>u(t._id,n),children:"Ajouter au panier"})})]})]}),e.jsxs("section",{className:"mt-10 mb-3",children:[e.jsx("h1",{className:"text-3xl font-primary text-start text-[#191E8F]",children:"Produits de la même console"}),e.jsx("div",{className:"flex flex-row gap-5",children:d.map((s,a)=>s._id!==t._id?e.jsx(g,{className:"bg-white p-4 shadow-md hover:shadow-2xl transition-shadow duration-300",to:`/product/${s._id}`,children:e.jsx("img",{src:s.imageUrl,alt:s.imageAlt,className:"w-[220px] h-[370px] object-cover"})},a):null)})]})]}),e.jsx(v,{})]})};export{F as default};
